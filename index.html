<!DOCTYPE html>
<html lang="en">
<head>
	<title>jQuery Easing Repeater plugin</title>
	<meta charset="utf-8">
	<style type="text/css">
		body {font-family:Arial,Helvetica,sans-serif; font-size:95%;}
		#wrapper {margin:10px auto; width:600px;}
		#container {height:200px; position:relative; width:100%;}
		#moving {background-color:#03C; height:100px; position:absolute; top:50px; width:100px;}
		#controls {margin-bottom:20px; overflow:hidden;}
		h3 {font-size:1em; font-weight:bold; margin:0; line-height:1.5em; text-align:center;}
		.group {border:2px solid #000; background-color:#EEE; padding:10px; width:270px; -moz-border-radius:5px; -webkit-border-radius:5px;}
		.gleft {float:left;}
		.gright {float:right;}
		.group label {display:block; line-height:1.5em;}
		.gleft label {clear:left; float:left; width:100px;}
		.gright label {width:200px;}
		#repeat {width:50px;}
		#run {clear:both; margin-left:100px;}
		pre, code {background-color:#000; color:#0F0; font-family:Consolas,'Courier New',monospace; font-size:0.9em; line-height:1.5em; margin:1em 0; padding:5px;}
		code {margin:0; padding:2px 5px;}
		#democode {display:none; margin-bottom:20px;}
		ul {margin:1em 0; padding:0 20px;}
		ul ul {margin-top:0.25em;}
		#graph {background-color:#000; height:500px; width:600px;}
		#template {display:none;}
		a {color:#333; text-decoration:underline;}
		a:hover {text-decoration:none;}
	</style>
	<link rel="stylesheet" type="text/css" href="lib/rangeinput.css" />
</head>
<body>
	<div id="wrapper">
		<div id="details">
			<h1>jQuery Easing Repeater plugin</h1>
			<h2>What?</h2>
			<p>
				This plugin provides a basic factory method that allows you to speed up and repeat
				an easing function multiple times over the course of a single animation call.
			</p>
			<h2>Why?</h2>
			<p>
				The idea for this plugin first started with needing to flash a warning message 3 times,
				by animating the opacity from 0 to 1 to 0 to 1 to 0 to 1.
				The usual method used to do this in a jQuery-based site is to setup multiple animation calls,
				either by setting up a series of callbacks, or by queueing them in a long chain
				(this is the method used by jQuery UI's Pulsate effect).
			</p>
			<p>
				I wanted to have the same effect, but only use a single animation call.
			</p>
			<h2>How?</h2>
			<p>
				When you create a repeat easing, a new easing function is created that is basically a wrapper around
				the original easing function. The new function applies some extra calculations to the result of the
				original function, which are used to speed up, repeat and invert the result. This results in a new
				easing that repeats the original easing back and forth a set number of times.
			</p>
			<h2>Usage</h2>
			<p>
				To create a repeated easing, use the utility method on the jQuery object:
			</p>
			<pre>$.createEasingRepeater('repeaterName', 'existingEasingName', repeatTimes);</pre>
			<p>
				<code>repeaterName</code> is a custom name that you give the new easing function.
				This name is then used as the easing when creating animation calls.
			</p>
			<p>
				<code>existingEasingName</code> is the easing function that you want to repeat &ndash; e.g. "easeOutBack".
			</p>
			<p>
				<code>repeatTimes</code> is an integer that refers to the number of times the animation reaches its <em>end point</em>,
				not how many animation steps there are. Therefore a value of 2 will run 3 animation steps:
				once to the end point, then back to the beginning, then to the end point again.
			</p>
			<p>
				Once the new easing function has been created, you can use it like any other easing by specifying it
				in an animation call like this:
			</p>
			<pre>$(selector).animate(properties, duration, 'repeaterName');</pre>
			<p>
				<strong>NOTE:</strong> Unlike the jQuery UI Pulsate effect &ndash; which specifies the time duration of
				each individual animation step &ndash; for this plugin duration is specified for the entire animation sequence.
			</p>
			<h2>Benefits</h2>
			<ul>
				<li><strong>Size:</strong> The minified source code is a touch over 300 bytes.</li>
				<li><strong>Ease of use:</strong> Only one extra line of code is needed to implement in existing projects.</li>
				<li><strong>Variety:</strong> Repeat easing functions can be used for any animatable property, not just opacity.</li>
				<li><strong>Per-property:</strong> As of jQuery 1.4 easing functions can be specified per CSS property,
					so you can use a repeat easing function on just one property in an otherwise normal animation.
				</li>
				<li><strong>Animation helpers:</strong> In jQuery 1.4.3 all animation helper functions were standardised to accept an easing argument.
					This means you can use a repeated easing with any of these built-in functions:
					<ul>
						<li><a href="http://api.jquery.com/show">show()</a></li>
						<li><a href="http://api.jquery.com/hide">hide()</a></li>
						<li><a href="http://api.jquery.com/toggle">toggle()</a></li>
						<li><a href="http://api.jquery.com/slideUp">slideUp()</a></li>
						<li><a href="http://api.jquery.com/slideDown">slideDown()</a></li>
						<li><a href="http://api.jquery.com/slideToggle">slideToggle()</a></li>
						<li><a href="http://api.jquery.com/fadeIn">fadeIn()</a></li>
						<li><a href="http://api.jquery.com/fadeOut">fadeOut()</a></li>
						<li><a href="http://api.jquery.com/fadeTo">fadeTo()</a></li>
						<li><a href="http://api.jquery.com/fadeToggle">fadeToggle()</a> (method added in 1.4.4)</li>
					</ul>
				</li>
			</ul>
		</div><!-- #details -->

		<div id="demo">
			<h2>Demonstration</h2>

			<div id="container">
				<div id="moving"></div>
			</div>

			<form id="controls" action="#">
				<div class="group gleft">
					<h3>Easing Properties</h3>
					<div><label for="easing">Easing:</label><select id="easing"></select></div>
					<div><label for="repeat">Run x times:</label><input type="number" id="repeat" value="2" min="1" /></div>
					<div><label for="speed">Total time:</label><input type="range" id="speed" value="2000" min="500" max="10000" step="500" /></div>
					<div><button id="run">Go</button></div>
				</div>
				<div class="group gright">
					<h3>Animation Properties</h3>
					<div><label><input type="checkbox" name="left" id="anim-left" checked /> Left</label></div>
					<div><label><input type="checkbox" name="height" id="anim-height" /> Height</label></div>
					<div><label><input type="checkbox" name="opacity" id="anim-opacity" /> Opacity</label></div>
				</div>
			</form>

			<pre id="democode"></pre>

			<div id="graph"></div>

			<p>(Easing graph code shamelessly stolen from <a href="http://james.padolsey.com/demos/jquery/easing/">James Padolsey's Easing Illustrated page</a>)</a></p>
		</div><!-- #demo -->
	</div><!-- #wrapper -->

<div id="template">
$.createEasingRepeater('{1}', '{2}', {3});<br />
$(selector).animate(<em>properties</em>, {4}, '{1}');
</div>
	
	<script src="lib/jquery-1.4.2.js"></script>
	<script src="lib/jquery.easing.js"></script>
	<script src="lib/rangeinput.min.js"></script>
	<!--[if IE]><script src="lib/excanvas.compiled.js"></script><![endif]-->
	<script src="jquery.easing.repeater.js"></script>
	<script src="demo.js"></script>
</body>
</html>
